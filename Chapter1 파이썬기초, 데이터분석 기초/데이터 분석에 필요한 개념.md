# 변수
다양한 값을 지닌 하나의 속성을 변수(variable)라고 함. 여러 변수가 모여서 데이터가 되므로 데이터는 변수들의 덩어리.  
변수는 데이터 분석의 대상. 데이터 분석은 변수 간에 어떤 관계가 있는지 파악하는 작업.  
하나의 값으로 되어 있는 속성을 상수(content)라고 함. 상수는 변수와 달리 분석 대상이 될 수 없음.
## 변수 만들기
데이터 분석은 변수를 만드는 것으로 시작. 변수를 만들 때는 등호(=)를 사용. 예를 들어, a=1은 '변수 a를 만들어 1을 넣어라'라는 뜻. a라는 이름의 빈 그릇에 1이라는 내용물을 담는다고 생각하면 됨.
변수를 만든 다음 a를 실행하면 a에 들어 있는 1이 출력됨. 변수를 만들면 변수를 이용해 연산 가능. 변수끼리 연산할 수도 있고, 변수와 숫자를 조합해 연산할 수도 있음.
```
a = 1  # a에 1을 할당
a      # a 출력
```
### 변수명 규칙
실제 분석에서는 score, sex, grade처럼 알아보기 쉽고 잘 기억되도록 의미를 담아 이름을 정함. 변수명은 문자, 숫자, 언더바(_)를 조합해 정할 수 있음. 반드시 문자로 시작해야함.
한글로 정해도 되지만, 간혹 오류가 날 때가 있으니 영문 권장. 대소문자를 구분.
### 여러 값으로 구성된 변수 만들기
변수에는 값을 여러 개 넣을 수 있음. 대괄호([]) 안에 쉼표를 이용해 값을 나열해서 넣음.
```
var1 = [1, 2, 3]
var1
```
[1, 2, 3]
> 변수명 var1에서 'var'은 '변수'를 의미하는 'variable'의 머리글자

여러 값으로 구성된 변수를 더하면 순서대로 결합. 아래 코드를 실행하면 var1에 들어 있는 1, 2, 3과 var2에 들어있는 4, 5, 6을 결합하여 출력.
```
var1 + var2
```
[1, 2, 3, 4, 5, 6]

### 문자로 된 변수 만들기
str1에 소문자 'a'를 넣어 변수 만들기. 변수에 문자를 넣을 때는 문자 앞 뒤에 따옴표(')를 붙여야 함. 출력된 값의 앞뒤에 따옴표가 붙어 있으면 문자로 구성된 변수라는 의미.
> 변수명 str1에서 'str'은 '문자열'을 의미하는 'string'의 머리글자

```
str1 = 'a'
str1
```
'a'  
문자 변수에는 문자 하나, 여러 문자로 구성된 단어, 여러 단어로 구성된 문장을 넣을 수 있고, 띄어쓰기나 특수문자를 넣을 수도 있음.
```
str2 = 'text'
str2
```
'text'
```
str3 = 'Hello World!'
str3
```
'Hello World!'  
[]에 숫자 여러 개를 넣어 변수를 만드는 것처럼 []에 문자 여러 개를 넣어 변수를 만들 수 있음. 변수에 넣을 문자를 쉼표를 이용해 나열하면 됨. 각 문자의 앞뒤에 따옴표를 넣어 감싸야 함.
각 문자의 앞뒤에 따옴표가 붙어 있는 것을 확인 가능.
```
str4 = ['a', 'b', 'c']
str4
```
['a', 'b', 'c']  
변수끼리 더하면 순서대로 결합하여 출력. 따옴표를 이용해 빈칸을 삽입하면 'text'와 'Hello World!' 사이에 띄어쓰기를 넣어 출력.  
문자로 된 변수로는 연산 불가. 문자 변수로 연산하면 에러 메시지 출력.

# 함수
데이터 분석은 '함수를 이용해서 변수를 조작하는 일'. 분석 작업은 대부분 함수를 다루는 것으로 시작해 함수를 다루는 것으로 끝남. 데이터 분석을 공부한다는 것은 함수의 기능과 조작 방법을 익히는 과정. 함수를 능숙하게 다룰수 있도록 데이터를 의도한 대로 분석 가능.  
함수에 값을 넣으면 특정한 기능을 수행해 처음과 다른 값으로 만듬.
> 한자어 '함수'는 '숫자를 담는 상자'를 의미. 함수를 뜻하는 영단어 'function'은 '기능'이라는 의미를 가지고 있음.

## 함수 이용
함수는 '함수 이름'과 '괄호'로 구성. 함수 이름을 쓰고 그 뒤에 괄호를 입력한 다음 함수의 기능을 적용할 값이나 변수를 입력하면 됨.  
합계를 구하는 함수 sum() 사용하기. 우선 []를 이용해 3개의 숫자 1, 2, 3으로 구성된 변수를 만들고, 이렇게 만든 변수를 sum()에 넣어 합계 구하기.
```
# 변수 만들기
x = [1, 2, 3]
x
```
[1, 2, 3]
```
# 함수 적용하기
sum(x)
```
6  
max()와 min()으로 최대값과 최소값을 구할 수 있음.  
함수의 결과물을 바로 출력할 수도 있지만, 새 변수에 집어넣을 수도 있음. 변수를 만들 때처럼 함수 앞에 변수명과 =를 입력하면 됨.

# 패키지(packages)
## 의미
함수를 특정한 기능을 하는 상자에 비유하면, 패키지는 이런 상자가 여러 개 들어 있는 꾸러미에 비유할 수 있음. 패키지에는 다양한 함수가 들어 있음.
예를 들어서 그래프를 만들 때 많이 사용하는 패키지인 seaborn에는 scatterplot(), barplot(), lineplot() 등 수십 가지 그래프 관련 함수가 들어 있음. seaborn패키지를 설치하고 불러오면
이 함수들을 활용 가능.  
가장 큰 장점은 그래프를 만들고, 텍스트 데이터를 분석하고, 머신러닝 모델을 구현하는 등 다양한 패키지가 있다는 점.
## 패키지 설치, 사용
패키지를 설치한 다음 로드해야 사용 가능. 로드(load)는 패키지를 사용할 수 있도록 불러들이는 작업을 의미.
패키지는 한 번만 설치하면 되지만 로드하는 작업은 JupyterLab을 새로 시작할 때마다 반복해야 함. 아나콘다에는 데이터 분석에 필요한 주요 패키지가 대부분 들어 있음. 아나콘다를 이용해 파이썬을 설치했다면 수백 가지 패키지를 함께 설치한 셈임.  
### 패키지 로드
패키지의 함수를 사용하려면 패키지를 로드해야 함. import 뒤에 패키지 이름을 입력하고 실행.  
  
그래프 생성 시 많이 사용하는 seaborn 패키지 로드.
```
import seaborn
```
seaborn패키지를 로드했으니 그래프를 만드는 함수들을 이용할 수 있는 상태가 되었음.  
  
seaborn패키지의 countplot() 함수를 이용해 빈도 막대 그래프 만들기.  
빈도 막대 그래프는 값의 개수(빈도)를 막대의 길이로 표현함. 여러 개의 문자로 구성된 변수 var을 생성
```
var = ['a', 'a', 'b', 'c']
var
```
['a', 'a', 'b', 'c']  
  
countplot()을 이용해 빈도 막대 그래프를 생성. 패키지의 함수를 이용할 때는 seaborn.countplot()처럼 패키지명 뒤에 점(.)을 찍고 함수명을 입력하면 됨. countplot()에 x를 입력하고 var를 지정. var의 값으로 x축을 구성해 빈도 막대 그래프 생성.
```
seaborn.countplot(x = var)
```

sum(), max(), min() 같은 함수는 파이썬에 기본으로 내장되어 있어서 따로 설치하거나 로드하지 않아도 사용 가능. 함수에는 패키지를 설치하고 로드해야 사용할 수 있는 '패키지 함수'와 파이썬에 내장되어 있어서 설치하거나 로드하지 않고 바로 사용하는 내장 함수(built-in function)이 있음.
#### 패키지 약어 활용
패키지 함수를 이용하려면 함수 이름 앞에 패키지 이름을 항상 입력해야 해서 번거로움.
패키지 약어를 지정해두면 함수를 사용할 때 패키지 이름 대신 약어를 활용해 코드를 짧게 줄일 수 있어 편리.  
패키지 약어를 지정하려면 패키지를 로드하는 코드 뒤에 as와 약어를 입력하면 됨.
```
import seaborn as sns
```
이제 seaborn 패키지 함수를 사용할 때 패키지 이름 위치에 seaborn 대신 sns를 입력하면 됨.
```
sns.countplot(x = var)
```
### seaborn의 titanic 데이터로 그래프 만들기
함수의 기능을 테스트할 수 있는 예제 데이터가 들어 있음. seaborn 패키지에 들어 있는 titanic 데이터를 이용해 그래프 제작. titanic 데이터는 1912년, 영국 사우샘프턴에서 출발해 미국 뉴욕으로 항해하다가 침몰한 여객선 타이타닉호의 승객 정보가 담겨져 있음.
#### seaborn의 load_dataset()로 titanic 데이터 불러오기
seaborn 패키지의 dataload_dataset()를 이용하면 seaborn 패키지에 들어있는 데이터를 불러올 수 있음. dataload_dataset()에 'titanic'을 입력해 titanic 데이터를 불러온 다음 df에 할당.
```
df = sns.load_dataset('titanic')
df
```
### 함수의 다양한 기능 이용
countplot()으로 빈도 막대 그래프를 만들 때 x = var 을 입력해 x축을 var의 값으로 구성하도록 설정함. countplot()에 입력한 x는 빈도 막대 그래프의 x축을 정하는 기능.  
함수의 옵션을 설정하는 명령어를 **파라미터(parameter)** 또는 **매개변수**라고 함. 함수에는 저마다 기능이 다른 파라미터가 있음. 조정해서 원하는 결과 얻기 가능. 어떤 파라미터가 있는지 알고 있어야 함수를 자유자재로 활용 가능.  
countplot()의 data 파라미터에 df를 지정하고, 그래프의 x축을 결정하는 x파라미터에 'sex'를 지정해 '성별 빈도 막대 그래프' 만들기.
```
sns.countplot(data = df, x = 'sex')
```
countplot()의 파라미터를 바꿔가며 코드 실행. 파라미터를 바꿀 때마다 그래프 형태가 어떻게 달라지는지 확인. 다음 코드에서 class는 선실 등급, alive는 생존 여부 나타낸 변수. hue는 변수의 항목별로 막대의 색을 다르게 표현하는 파라미터.
```
sns.countplot(data = df, x = 'class')                 # x축 class
sns.countplot(data = df, x = 'class', hue = 'alive')  # x축 class, alive별 색 표현
sns.countplot(data = df, y = 'class', hue = 'alive')  # y축 class, alive별 색 표현
```
* 함수를 사용하다가 파라미터를 지정하는 방식 등 문법이 기억나지 않을 때.
함수명 앞 또는 뒤에 물음표를 넣어 Help 함수를 실행하면 매뉴얼 출력. 매뉴얼에는 함수 소개, 파라미터 사용법, 예제 코드가 들어 있음. 함수가 들어 있는 패키지를 로드한 상태에서만 매뉴얼을 출력하는 코드가 실행됨.
```
# sns.countplot() 매뉴얼 출력
sns.countplot?
```
### 모듈(module)
어떤 패키지는 함수가 굉장히 많기 때문에 비슷한 함수끼리 묶어 몇개의 모듈로 나뉨. 패키지라는 큰 꾸러미에 비슷한 함수들을 넣어둔 작은 꾸러미들이 들어 있는 것.  
머신러닝 모델을 만들 때 사용하는 sklearn 패키지를 예로 들어 모듈을 사용하는 방법.
sklearn 패키지에는 metrics, tree, model_selection 등 여러 모듈이 들어있음. metrics 모듈에는 머신러닝 모델의 예측이 얼마나 정확한지 성능을 평가할 때 사용하는 accuracy_score()함수 포함. accuracy_score()를 사용하려면 먼저 metrics 모듈 로드. 패키지의 모듈을 불러오려면 import sklearn.metrics처럼 패키지를 로드하는 코드 뒤에 점을 찍고 모듈 이름 입력. 모듈에 들어 있는 함수를 사용하려면 패키지명.모듈명.함수명()을 입력하면 됨.
```
# sklearn 패키지 metrics 모듈의 accuracy_score() 사용하기
sklearn.metrics.accuracy_score()
```
#### 모듈명.함수명()으로 함수 사용
모듈의 함수를 사용할 때 매번 패키지명을 입력하는 게 번거롭다면 from 패키지명 import 모듈명으로 모듈을 로드하면 됨. 모듈을 로드하면 함수를 사용할 때 모듈명.함수명()만 입력.
```
# sklearn 패키지의 metrics 모듈 로드
from sklearn import metrics
metrics.accuracy_score()
```
#### 함수명()으로 함수 사용
from 패키지명.모듈명 import 함수명으로 함수를 직접 로드하면 됨. 함수를 직접 로드하면 함수를 사용할 때 함수명만 입력하면 됨.
```
# sklearn 패키지 metrics 모듈의 accuracy_score() 로드하기
from sklearn.metrics import accuracy_score
accuracy_score()
```
함수를 지정해 로드하면 로드한 함수만 사용할 수 있고 모듈의 다른 함수는 사용할 수 없음. 모듈의 특정 함수만 자주 사용할 때는 함수를 지정해 로드. 모듈의 여러 함수를 함께 사용할 때는 모듈 전체를 로드하는 게 편리.

### 패키지 설치
데이터 분석을 하는 데 필요한 주요 패키지는 대부분 아나콘다를 설치할 때 함께 설치됨. 따로 설치할 필요 없이 바로 로드하여 사용 가능. 아나콘다에 들어있지 않은 패키지를 사용하려면 우선 패키지를 직접 설치한 다음 로드해야 함.  
PyDataset 패키지 설치. 여러 가지 데이터 셋을 손쉽게 불러올 수 있음. 패키지를 설치하려면 아나콘다 프롬프트를 열어 pip install 패키지명을 실행하면 됨. pip는 파이썬 패키지를 설치하거나 관리할 때 사용하는 명령어. 아나콘다 프롬프트에 다음과 같이 입력한 다음 enter를 눌러 실행.
```
pip install pydataset
```
코드를 실행하면 파이썬 패키지 저장소 PyPI(pypi.org)에서 패키지 관련 파일 다운로드해 하드디스크에 설치하는 과정이 프롬프트에 출력됨. 패키지 설치를 완료하면 입력 대기 상태.
> 패키지 설치 중 'Proceed (y/n)?' 메시지가 나오면 'y'를 입력하고 enter

#### 패키지 함수 사용
JupyterLab에서 패키지를 사용할 수 있도록 로드
```
import pydataset
```
이제 pydataset 패키지를 사용할 수 있는 상태가 됨. pydataset의 data()함수를 이용해 pydataset 패키지에 들어 있는 데이터 셋 목록 출력.
```
pydataset.data()
```
이번에는 data()에 'mtcars'를 입력해 자동차 32종의 정보를 담고 있는 mtcars 데이터셋
```
df = pydataset.data('mtcars')  # mtcars 데이터를 df에 할당
df                             # df 출력
```
아나콘다에 들어 있지 않은 패키지의 함수를 이용하려면 먼저 패키지를 설치하고 로드해야 함. 패키지 함수가 실행되지 않으면 우선 패키지를 로드했는지 확인. 패키지가 로드되지 않으면 아나콘다 프롬프트를 이용해 패키지를 설치한 다음 로드하면 됨.
