복지 패널 데이터는 엄밀한 절차에 따라 수집되었고 다양한 번수를 담고 있으므로 다양한 변수를 담고 있으므로 데이터 분석 기술을 연습하는 데 훌륭한 재료.
# 데이터 분석 준비
1. 데이터 준비  
한국복지패널 데이터 Koweps_hpwc14_2019_beta2.sav 파일을 bit.ly/easypy_91에서 다운로드하고 워킹 디렉터리에 삽입.  
2020년에 발간된 복지패널 데이터, 6,331가구, 14,418명의 정보를 담음.
2. 패키지 설치 및 로드  
데이터 파일은 통계 분석 소프트웨어인 SPSS 전용 파일. pyreadstat 패키지를 설치하면 pandas 패키지의 함수를 이용해 SPSS, SAS, STATA 등 다양한 통계 분석 소프트웨어의 데이터 파일을 불러올 수 있음.
아나콘다 프롬프트에서 다음 코드를 실행해 pyreadstat 패키지 설치. ```pip install pyreadstat```  
데이터를 분석하는 데 필요한 패키지 로드
```
import pandas as pd
import numpy as np
import seaborn as sns
```

3. 데이터 불러오기  
pd.read_spss()를 이용해 복지패널 데이터를 불러옴. 데이터 원본은 복구할 상황을 대비해 그대로 두고 복사본을 만들어 분석에 활용.
```
# 데이터 불러오기
raw_welfare = pd.read_spss('Koweps_hpwc14_2019_beta2.sav')

# 복사본 만들기
welfare = raw_welfare.copy()
```

4. 데이터 검토  
```
welfare            # 앞부분, 뒷부분 출력
welfare.shape      # 행, 열 개수 출력
welfare.info()     # 변수 속성 출력
welfare.describe() # 요약 통계
```
복지패널 데이터와 같은 대규모 데이터는 변수의 수가 많고 변수명이 코드로 되어 있어 전체 구조를 한눈에 파악하기 어려움. 규모가 큰 데이터는 데이터 전체를 한 번에 파악하기보다 변수명을 쉬운 단어로 바꾼 다음 분석에 사용할 변수를 하나씩 살펴봐야 함.  

5. 변수명 바꾸기  
사용할 변수 몇 개를 이해하기 쉬운 변수명으로 바꾸기. 규모가 큰 조사 자료는 데이터의 특징을 설명해 놓은 코드북(codebook)을 함께 제공. 코드북은 코드로 된 변수명과 값의 의미 설명. 데이터의 특징이 어떠한지 감을 잡을 수 있고 분석에 어떤 변수를 활용할지, 분석 방향의 아이디어를 얻을 수 있음.  
분석에 사용할 변수 7개의 이름을 알아보기 쉬운 단어로 바꾸기
```
welfare = welfare.rename(
  columns = {'h14_g3'    : 'sex',          # 성별
             'h14_g4'    : 'birth',        # 태어난 연도
             'h14_g10'   : 'marriage_type' # 혼인 상태
             'h14_g11'   : 'religion'      # 종교
             'p1402_8aq1': 'income'        # 월급
             'h14_eco9'  : 'code_job'      # 직업 코드
             'h14_reg7'  : 'code_region'}) # 지역 코드
```
## 데이터 분석 절차 살펴보기
선정한 변수 7개를 이용해 분석. 다양한 분석 주제를 다루는데, 분석마다 '변수 검토 및 전처리'&'변수 간 관계 분석'으로 진행됨.
### 1단계 변수 검토 및 전처리
분석에 활용할 변수를 전처리. 변수의 특징 파악, 이상치와 결측치 정제, 변수의 값 가공. 전처리는 분석에 활용할 변수 각각 진행.
### 2단계 변수 간 관계 분석
본격적으로 변수 간 관계를 파악하는 분석. 데이터를 요약한 표와 데이터의 특징을 쉽게 이해할 수 있는 그래프를 만든 다음 분석 결과 해석.
